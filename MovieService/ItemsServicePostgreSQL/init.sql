
DROP TABLE IF EXISTS producers CASCADE;

CREATE TABLE IF NOT EXISTS producers(
    producer_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(100) NOT NULL
    );

DROP TABLE IF EXISTS movies CASCADE;

CREATE TABLE IF NOT EXISTS movies(
    movie_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title VARCHAR(100) NOT NULL,
    description VARCHAR(255),
    year_of_production INTEGER,
    producer_id INTEGER REFERENCES producers(producer_id)
    );

DROP TABLE IF EXISTS actors CASCADE;

CREATE TABLE IF NOT EXISTS actors(
    actor_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(100) NOT NULL
    );

DROP TABLE IF EXISTS movies_actors CASCADE;

CREATE TABLE IF NOT EXISTS movies_actors(
    movie_id INTEGER REFERENCES movies(movie_id) NOT NULL,
    actor_id INTEGER REFERENCES actors(actor_id) NOT NULL
    );